<div class="registration-container">
    <div class="registration-registration">
        <div class="background">
            <img src="../../../../assets/images/background-image.png" alt="image255165" class="background-image" />
            <div class="overlay"></div>
        </div>
        <form class="registration-form" [formGroup]="form">
            <div>
                <img src="../../../../assets/images/logo_login_reg.png" alt="image276070" class="logo" />
            </div>
            <mat-form-field appearance="fill">
                <mat-label>Email</mat-label>
                <input matInput placeholder="pat@example.com" required name="email" required formControlName="email">
                <mat-error *ngIf="form.get('email')?.hasError('required')">Email is required</mat-error>
                <mat-error *ngIf="form.get('email')?.hasError('pattern')">Invalid email address</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Password</mat-label>
                <input matInput [type]="hide1 ? 'password' : 'text'" required name="password"
                    formControlName="password">
                <button mat-icon-button matSuffix (click)="hide1 = !hide1" [attr.aria-label]="'Hide password'"
                    [attr.aria-pressed]="hide1">
                    <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="form.get('password')?.hasError('required')">Password is required</mat-error>
                <mat-error *ngIf="form.get('password')?.hasError('pattern')">Password must contain at least one
                    uppercase letter, one lowercase letter, one digit, one special character, and be at least 8
                    characters long</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Confirm password</mat-label>
                <input matInput [type]="hide2 ? 'password' : 'text'" required name="confirmPassword"
                    formControlName="confirmPassword">
                <button mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'"
                    [attr.aria-pressed]="hide2">
                    <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="form.get('confirmPassword')?.hasError('required')">Confirm password is
                    required</mat-error>
                <mat-error
                    *ngIf="form.get('confirmPassword')?.hasError('different')">{{form.get('confirmPassword')?.getError('message')}}</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>First name</mat-label>
                <input matInput required name="firstName" formControlName="firstName">
                <mat-error *ngIf="form.get('firstName')!.hasError('required')">First name is required</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Last name</mat-label>
                <input matInput required name="lastName" formControlName="lastName">
                <mat-error *ngIf="form.get('lastName')!.hasError('required')">Last name is required</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Country</mat-label>
                <mat-select required name="country" formControlName="country">
                    <mat-option *ngFor="let country of countries | async" [value]="country">{{ country }}</mat-option>
                </mat-select>
                <mat-error *ngIf="form.get('country')!.hasError('required')">Country is required</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>City</mat-label>
                <input matInput required name="city" formControlName="city">
                <mat-error *ngIf="form.get('city')!.hasError('required')">City is required</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Street address</mat-label>
                <input matInput required name="streetAddress" formControlName="streetAddress">
                <mat-error *ngIf="form.get('streetAddress')!.hasError('required')">Street address is
                    required</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Zip code</mat-label>
                <input matInput required name="zipCode" formControlName="zipCode">
                <mat-error *ngIf="form.get('zipCode')!.hasError('required')">Zip code is required</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Phone</mat-label>
                <input matInput type="tel" required name="phone" formControlName="phone">
                <mat-error *ngIf="form.get('phone')!.hasError('required')">Phone is required</mat-error>
                <mat-error *ngIf="form.get('phone')?.hasError('pattern')">Invalid phone format</mat-error>
            </mat-form-field>

            <mat-label>Role</mat-label>
            <mat-button-toggle-group name="fontStyle" aria-label="Font Style" name="role" formControlName="role">
                <mat-button-toggle value="owner">Owner</mat-button-toggle>
                <mat-button-toggle value="guest">Guest</mat-button-toggle>
            </mat-button-toggle-group>
            <mat-error *ngIf="submitted && form.get('role')!.hasError('required')">Role is required</mat-error>

            <button mat-raised-button type="submit" class="registration-button button" (click)="onSubmit()">SIGN
                UP</button>
            <div>
                <p class="account">Already have an account?</p>
                <p class="log-in" routerLink="/login">Log in</p>
            </div>
        </form>
    </div>
</div>